<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<title>Filmdle</title>
		<link rel="icon" href="clapperboardFavicon.png" />
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
			crossorigin="anonymous" />
		<style>
			.search {
				padding: 20px;
			}
			.movieCard {
				padding: 20px;
				border-radius: 5px;
			}
			.movieCard:hover {
				background-color: lightgrey;
			}
			.movieImage {
				height: auto;
				width: auto;
				max-height: 200px;
				max-width: 200px;
			}
			.footer {
				position: absolute;
				bottom: 0;
				width: 100%;
				height: 60px;
				line-height: 60px;
				background-color: #f5f5f5;
				padding-bottom: 0;
			}
			.tmdbLogo {
				height: 1.5em;
				width: 1.5em;
			}
			.wrong {
				background-color: red;
			}
			.correct {
				background-color: green;
			}
			.close {
				background-color: yellow;
			}
			.logo {
				height: 2em;
			}
			.attribute {
				height: 2em;
				border-radius: 5px;
				outline: auto;
			}
			.indicator {
				height: 1.5em;
			}
		</style>
	</head>
	<body onload="loadHandler()">
		<header>
			<nav
				class="navbar navbar-expand-lg bg-primary align-middle"
				data-bs-theme="dark">
				<div class="container-fluid">
					<a class="navbar-brand"
						><span><img src="clapperboardFavicon.png" class="logo" /></span
						><span>Filmdle</span></a
					>
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item">
							<a
								class="nav-link"
								data-bs-target="#rulesModal"
								data-bs-toggle="modal"
								aria-current="page"
								href="#"
								>How to Play</a
							>
						</li>
					</ul>
				</div>
			</nav>
		</header>

		<main>
			<div>
				<div class="container">
					<div class="container">
						<div class="input-group mb-3 search">
							<input
								autocomplete="off"
								class="form-control border-end-0"
								type="text"
								id="inputGuess" />
							<button
								class="btn border border-start-0"
								type="button"
								onclick="clearGuess()">
								<svg
									xmlns="http://www.w3.org/2000/svg"
									width="16"
									height="16"
									fill="currentColor"
									class="bi bi-x-lg"
									viewBox="0 0 16 16">
									<path
										d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z" />
								</svg>
							</button>
						</div>
						<div id="searchResults" class="dropdown"></div>
						<p id="searchFailText"></p>
					</div>
					<div class="">
						<table class="table" id="guessTable">
							<thead>
								<tr>
									<th>Guess #</th>
									<th>Poster</th>
									<th>Title</th>
									<th>Year</th>
									<th>Genre</th>
									<th>Popularity</th>
									<th>Runtime</th>
									<th>Average Rating</th>
								</tr>
							</thead>
							<tbody id="guessTableBody"></tbody>
						</table>
					</div>
				</div>
				<div class="container">
					<p>Stuck? Use a hint:</p>
					<div class="row">
						<div class="col btn btn-outline-secondary" id="hintTopBilled">
							Reveal Top Billed Actor
						</div>
						<div class="col btn btn-outline-secondary" id="hintDirector">
							Reveal Director
						</div>
						<div class="col btn btn-outline-secondary" id="hintTagline">
							Reveal Tagline
						</div>
					</div>
					<div class="row">
						<div
							class="btn btn-outline-primary"
							id="btnGiveUp"
							onclick="giveUp()">
							Give Up
						</div>
					</div>
				</div>
			</div>
		</main>

		<footer class="footer">
			<div class="d-flex justify-content-center">
				<span>
					This product uses the TMDB API but is not endorsed or certified by
					TMDB.

					<a href="https://www.themoviedb.org/">
						<img
							src="https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg"
							class="tmdbLogo" />
					</a>
				</span>
				<span>
					<a
						target="_blank"
						href="https://icons8.com/icon/FoDhNGl8I5hv/clapperboard"
						>Clapperboard
					</a>
					icon by <a target="_blank" href="https://icons8.com"> Icons8</a>
				</span>
			</div>
		</footer>

		<!-- API KEY MODAL -->
		<div
			class="modal fade"
			id="apiKeyModal"
			tabindex="-1"
			aria-labelledby="apiKeyModalLabel"
			aria-hidden="true"
			data-bs-backdrop="static"
			data-bs-keyboard="false">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h1 class="modal-title fs-5" id="apiKeyModalLabel">
							Enter your API key
						</h1>
					</div>
					<form>
						<div class="modal-body">
							<div>
								<p>Enter your API key to access The Movie Database.</p>
							</div>
							<div>
								<label for="inputAPIKey">Enter API key:</label>
								<div class="input-group mb-3">
									<input
										autocomplete="off"
										class="form-control border-end-0"
										type="text"
										id="inputAPIKey" />
									<button
										class="btn border border-start-0"
										type="button"
										onclick="clearAPIKeyInput()">
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="16"
											height="16"
											fill="currentColor"
											class="bi bi-x-lg"
											viewBox="0 0 16 16">
											<path
												d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z" />
										</svg>
									</button>
								</div>
							</div>
							<div id="alertHolder"></div>
						</div>
						<div class="modal-footer">
							<button
								type="button"
								class="btn btn-primary"
								id="btnSubmitKey"
								onclick="sendAPIKey()">
								Submit
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>

		<!-- SECRET REVEAL MODAL -->
		<div
			class="modal fade"
			id="secretRevealModal"
			tabindex="-1"
			aria-labelledby="secretRevealModalLabel"
			aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button
							type="button"
							class="btn-close"
							data-bs-dismiss="modal"
							aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<div id="secretHolder"></div>
					</div>
				</div>
			</div>
		</div>

		<!-- HOW TO PLAY MODAL -->
		<div
			class="modal fade"
			id="rulesModal"
			tabindex="-1"
			aria-labelledby="rulesModalLabel"
			aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h1 class="modal-title fs-5">How to Play</h1>
						<button
							type="button"
							class="btn-close"
							data-bs-dismiss="modal"
							aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<div class="container">
							<p>
								Your goal is to guess the secret movie. With each guess, clues
								will be revealed.
							</p>
							<p>
								In the example below, the <strong>year</strong> is correct. The
								<strong>genres</strong> are close - the secret movie and the
								guess have at least one genre in common, but the genres are not
								exactly the same.
							</p>
						</div>
						<div class="container">
							<span class="attribute"
								><span class="row">Year</span
								><span class="row">
									2002
									<svg
										xmlns="http://www.w3.org/2000/svg"
										width="25"
										height="25"
										fill="currentColor"
										class="bi bi-arrow-up-short indicator"
										viewBox="0 0 16 16">
										<path
											fill-rule="evenodd"
											d="M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5" />
									</svg>
								</span>
							</span>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- BOOTSTRAP/SCRIPT  -->
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
			crossorigin="anonymous"></script>
		<script src="script.js"></script>
	</body>
</html>
